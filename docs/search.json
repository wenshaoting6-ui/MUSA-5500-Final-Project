[
  {
    "objectID": "index.html#beyond-proximity-a-multidimensional-risk-index",
    "href": "index.html#beyond-proximity-a-multidimensional-risk-index",
    "title": "MUSA 5050 Final Project",
    "section": "Beyond Proximity: A Multidimensional Risk Index",
    "text": "Beyond Proximity: A Multidimensional Risk Index\n{width=80%}"
  },
  {
    "objectID": "index.html#executive-summary",
    "href": "index.html#executive-summary",
    "title": "MUSA 5050 Final Project",
    "section": "Executive Summary",
    "text": "Executive Summary\nAccess to nutritious food is not just about miles; it is about mobility, money, and systemic equity. This project challenges the traditional binary definition of “food deserts” (Low Income + Low Access) by developing a continuous, 50-meter resolution Food Desert Index for Philadelphia.\nBy integrating data from the USDA, Census Bureau, and OpenStreetMap, we identify “hidden” pockets of vulnerability that standard metrics miss—specifically neighborhoods where low vehicle ownership intersects with moderate distances to food sources."
  },
  {
    "objectID": "index.html#the-challenge",
    "href": "index.html#the-challenge",
    "title": "MUSA 5050 Final Project",
    "section": "The Challenge",
    "text": "The Challenge\nPhiladelphia has a poverty rate of over 20%, significantly higher than the national average. While many neighborhoods are geometrically close to corner stores or supermarkets, the quality of that access varies dramatically."
  },
  {
    "objectID": "index.html#key-indicators",
    "href": "index.html#key-indicators",
    "title": "MUSA 5050 Final Project",
    "section": "Key Indicators",
    "text": "Key Indicators\nOur comprehensive index (0-100 score) is built on four pillars: 1. Physical Accessibility (30%): Network distance to fresh food. 2. Economic Vulnerability (35%): Poverty, unemployment, and income. 3. Transportation Barriers (25%): Vehicle ownership and transit reliance. 4. Demographic Disparities (10%): Systemic racial and ethnic inequities."
  },
  {
    "objectID": "final_project/results.html",
    "href": "final_project/results.html",
    "title": "Results",
    "section": "",
    "text": "General Results: Location of SNAP retailers and Food Store\nThe first map shows the spatial distribution and density of SNAP retailers and food stores. The number of SNAP retailers is far more than that of food stores, highly due to the incomplete data caused by OSM data. The density is high in center Philly and West Philly, and very low in north especially far north east of Philadelphia, implying an uneven spatial distribution of food access.\n\n\nPlotting density for 1811 total points.\n\n\n\n\n                            \n                                            \n\n\nFigure 1\n\n\n\n\n\n\nInteractive Food Desert Map\nThe map below displays the final Food Desert Index. Different from food access density map, West and North Philadelphia had higher risk score. While far north east of Philadelphia, with extreme low economic vulnerability and transportation barrier, have the ability to either order food online or drive to buy fresh food. This shows the advantage of our approach, as we analyze and identify from muti-perspectives. Dark Red areas indicate High Risk.\n\n\n\n\n                            \n                                            \n\n\nFigure 2\n\n\n\n\n\n\nUSDA Comparsion\nComparing our continuous index (Left) vs. the USDA’s binary definition (Right).\n\nUSDA DefinitionRisk Drivers\n\n\nAreas classified as Low Income & Low Access by the USDA.\n\n\n\n\n                            \n                                            \n\n\nFigure 3\n\n\n\n\n\n\nThe correlation between poverty and the Food Desert Index.\n\n\n\n\n                            \n                                            \n\n\nFigure 4"
  },
  {
    "objectID": "final_project/intro.html",
    "href": "final_project/intro.html",
    "title": "Introduction",
    "section": "",
    "text": "A food desert is an area/neighborhood with restricted access to affordable, healthy food, such as fresh fruits and vegetables. This is highly due to the limited numbers of grocery stores. These areas are correlated spatially with low-income urban and rural neighborhoods. Residents in food deserts are forced to switch to convenience stores or fast-food restaurants, causing potential serious health concerns and trapping them in the poverty cycle. As a result, it is important for the government to identify potential food deserts.\nHowever, so far limited research has been done in the City of Philadelphia to identify food deserts. Especially after the pandemic, with the closure of a number of small businesses, more neighborhoods are likely to become food deserts\nThis project aims to use different spatial data and spatial analysis techniques to identify the neighborhoods under the potential threat of food deserts.\nTraditional definitions of food deserts often rely on binary classifications (e.g., “further than 1 mile”). This project argues that food insecurity is a continuous gradient influenced by:\n\nPhysical Distance: How far is the store?\nEconomic Access: Can residents afford the food?\nTransportation: Can residents get to the store?\nSystemic Barriers: Are there racial or historical disparities?\n\nThis portfolio explores these dimensions to identify Philadelphia’s most vulnerable neighborhoods."
  },
  {
    "objectID": "final_project/conclusion.html",
    "href": "final_project/conclusion.html",
    "title": "Conclusion & Discussion",
    "section": "",
    "text": "Key Findings\n\nComplexity: Food insecurity in Philadelphia is not merely a geometric problem of distance. It is highly correlated with vehicle access and poverty.\nThe Transportation Gap: Areas with high “Transportation Barrier” scores (low vehicle ownership) showed significantly higher risk, even when physical distance to a store was moderate.\nHidden Vulnerability: Our index identified “Moderate Risk” transition zones that the binary USDA definition often misses. These areas need targeted policy intervention before they degrade into severe food deserts.\n\n\n\nPolicy Implications\nCity planners should focus not just on attracting new supermarkets (which can be difficult), but on: * Improving Transit: Better bus routes connecting “Moderate Risk” neighborhoods to existing grocery hubs. * Mobile Markets: Deploying mobile fresh food markets to high-transport-barrier zones. * SNAP Expansion: Encouraging more local corner stores in high-risk zones to accept SNAP benefits.\n\n\nFuture Work\nFuture iterations of this model could incorporate: * Food Price Data: Scraping real-time pricing to measure economic accessibility more precisely. * Transit Times: Using GTFS data to calculate public transit travel times rather than just driving/walking distance."
  },
  {
    "objectID": "Code.html",
    "href": "Code.html",
    "title": "Tim Wen Lingxuan Gao Final Project",
    "section": "",
    "text": "Input the data\n\n\nCode\nimport geopandas as gpd\nimport pandas as pd\nfrom shapely.geometry import Point, box\nimport osmnx as ox\n\nfoodatlas=pd.read_csv(\"data\\Food Access Research Atlas.csv\")\nsnap = pd.read_csv(\"data\\Historical SNAP Retailer Locator Data 2004-2024.csv\", \n                   encoding='utf-8', \n                   encoding_errors='replace')\nplace=gpd.read_file(\"data\\PLACES__Census_Tract_Data_(GIS_Friendly_Format),_2024_release_20251126.geojson\")\nphilly=gpd.read_file(\"data\\City_Limits.geojson\")\n\n\n&lt;&gt;:6: SyntaxWarning: invalid escape sequence '\\F'\n&lt;&gt;:7: SyntaxWarning: invalid escape sequence '\\H'\n&lt;&gt;:10: SyntaxWarning: invalid escape sequence '\\P'\n&lt;&gt;:11: SyntaxWarning: invalid escape sequence '\\C'\n&lt;&gt;:6: SyntaxWarning: invalid escape sequence '\\F'\n&lt;&gt;:7: SyntaxWarning: invalid escape sequence '\\H'\n&lt;&gt;:10: SyntaxWarning: invalid escape sequence '\\P'\n&lt;&gt;:11: SyntaxWarning: invalid escape sequence '\\C'\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\966121630.py:6: SyntaxWarning: invalid escape sequence '\\F'\n  foodatlas=pd.read_csv(\"data\\Food Access Research Atlas.csv\")\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\966121630.py:7: SyntaxWarning: invalid escape sequence '\\H'\n  snap = pd.read_csv(\"data\\Historical SNAP Retailer Locator Data 2004-2024.csv\",\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\966121630.py:10: SyntaxWarning: invalid escape sequence '\\P'\n  place=gpd.read_file(\"data\\PLACES__Census_Tract_Data_(GIS_Friendly_Format),_2024_release_20251126.geojson\")\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\966121630.py:11: SyntaxWarning: invalid escape sequence '\\C'\n  philly=gpd.read_file(\"data\\City_Limits.geojson\")\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\966121630.py:7: DtypeWarning: Columns (9) have mixed types. Specify dtype option on import or set low_memory=False.\n  snap = pd.read_csv(\"data\\Historical SNAP Retailer Locator Data 2004-2024.csv\",\n\n\nFilter and reproject the data\n\n\nCode\n#filter to snap retailers in Philly\nphillysnap=snap.loc[snap['County'] == 'PHILADELPHIA']\n#select retailers that are still operating\nphillysnapfiltered=phillysnap.loc[phillysnap['End Date'].isna()]\n#convert to geodataframe\nphillygeo = [Point(xy) for xy in zip(phillysnapfiltered['Longitude'], phillysnapfiltered['Latitude'])]\nsnapgdf=gpd.GeoDataFrame(phillysnapfiltered,geometry=phillygeo)\nsnapgdf.set_crs(epsg=4326, inplace=True)\nsnapgdf.to_crs(epsg=2272)\n\n\n\n\n\n\n\n\n\nRecord ID\nStore Name\nStore Type\nStreet Number\nStreet Name\nAdditional Address\nCity\nState\nZip Code\nZip4\nCounty\nLatitude\nLongitude\nAuthorization Date\nEnd Date\ngeometry\n\n\n\n\n544588\n1254758\n1 Stop Deli & Grocery 1\nConvenience Store\n3701\nGermantown Ave\nNaN\nPhiladelphia\nPA\n19140\n3619\nPHILADELPHIA\n40.009357\n-75.150856\n08/23/2016\nNaN\nPOINT (2696471.018 256979.057)\n\n\n544590\n1487550\n10 Brothers Food Market Corp\nSmall Grocery Store\n1801\nW Venango St\nNaN\nPhiladelphia\nPA\n19140\n4019\nPHILADELPHIA\n40.008730\n-75.158010\n04/05/2022\nNaN\nPOINT (2694474.591 256691.85)\n\n\n544603\n1344176\n11th & Tioga Mini Market Inc\nSmall Grocery Store\n1047\nW Tioga St\nNaN\nPhiladelphia\nPA\n19140\n4348\nPHILADELPHIA\n40.005505\n-75.146450\n02/19/2019\nNaN\nPOINT (2697746.062 255612.802)\n\n\n544607\n1044500\n1312 DJ Inc. T/A VIP Market\nMedium Grocery Store\n1312\nWalnut St\nNaN\nPhiladelphia\nPA\n19107\nNaN\nPHILADELPHIA\n39.949135\n-75.162680\n02/24/2012\nNaN\nPOINT (2693802.947 234953.345)\n\n\n544610\n1351007\n16th And York Mini Market Inc\nSmall Grocery Store\n2401\nN 16th St\nNaN\nPhiladelphia\nPA\n19132\n4439\nPHILADELPHIA\n39.989864\n-75.158730\n05/14/2019\nNaN\nPOINT (2694474.619 249816.317)\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n553380\n1607336\nZamzam Halal Market LLC\nMedium Grocery Store\n7923\nBustleton Ave\nNaN\nPhiladelphia\nPA\n19152\n3302\nPHILADELPHIA\n40.057404\n-75.052610\n08/19/2024\nNaN\nPOINT (2723445.028 275298.927)\n\n\n553383\n1416224\nZapata Mini Market Inc\nSmall Grocery Store\n910\nW Duncannon Ave\nNaN\nPhiladelphia\nPA\n19141\n4012\nPHILADELPHIA\n40.030987\n-75.138400\n01/11/2021\nNaN\nPOINT (2699725.733 264958.008)\n\n\n553386\n1518283\nZemzem Halal Poultry Inc\nMeat/Poultry Specialty\n6202\nOxford Ave\nNaN\nPhiladelphia\nPA\n19111\n5810\nPHILADELPHIA\n40.042240\n-75.088760\n10/03/2022\nNaN\nPOINT (2713496.868 269470.423)\n\n\n553392\n1228403\nZheng Mini Market\nSmall Grocery Store\n1701\nS Bancroft St\nNaN\nPhiladelphia\nPA\n19145\n2204\nPHILADELPHIA\n39.929653\n-75.172410\n03/18/2016\nNaN\nPOINT (2691283.232 227779.639)\n\n\n553394\n1267170\nZhu Juan Ling 1\nConvenience Store\n2351\nOrthodox St\nNaN\nPhiladelphia\nPA\n19137\n1197\nPHILADELPHIA\n40.006195\n-75.077690\n11/14/2022\nNaN\nPOINT (2716992.163 256439.42)\n\n\n\n\n1660 rows × 16 columns\n\n\n\n\n\nCode\n#filter foodatlas data\nfoodatlasphilly=foodatlas.loc[foodatlas['County']=='Philadelphia County']\nfoodatlasphillyfiltered = foodatlasphilly[['CensusTract', 'HUNVFlag', 'TractHUNV', 'TractSNAP']]\n#filter the place data to obesity rate only\nplacefiltered=place[['tractfips','obesity_crudeprev']]\nfoodatlasphillyfiltered\n\n\n\n\n\n\n\n\n\nCensusTract\nHUNVFlag\nTractHUNV\nTractSNAP\n\n\n\n\n57339\n42101000100\n0\n606.0\n12.0\n\n\n57340\n42101000200\n0\n510.0\n95.0\n\n\n57341\n42101000300\n0\n789.0\n32.0\n\n\n57342\n42101000401\n0\n921.0\n202.0\n\n\n57343\n42101000402\n0\n1150.0\n78.0\n\n\n...\n...\n...\n...\n...\n\n\n57715\n42101980300\n0\n0.0\n0.0\n\n\n57716\n42101980700\n0\n0.0\n0.0\n\n\n57717\n42101980800\n0\n0.0\n0.0\n\n\n57718\n42101980900\n0\n0.0\n0.0\n\n\n57719\n42101989100\n0\n0.0\n0.0\n\n\n\n\n381 rows × 4 columns\n\n\n\nMerge atlas data with shapefile\n\n\nCode\nimport pygris \ntracts_gdf = pygris.tracts(\n    state='42',\n    county='101',\n    year=2019,\n    cache=True\n)\ntracts_gdf['CensusTract'] = (tracts_gdf['GEOID']).astype(int)\nfoodatlas_sf = tracts_gdf.merge(\n    foodatlasphillyfiltered,\n    on='CensusTract',\n    how='left'\n)\n\n\nDownload census data using API\n\n\nCode\nimport pandas as pd\nimport cenpy\nfrom cenpy import products\n\nacs = cenpy.remote.APIConnection('ACSDT5Y2023')\ndemographic_vars = [\n    \"B01003_001E\",\n    \"B02001_003E\",\n    \"B03003_003E\",\n]\n\neconomic_vars = [\n    \"B19013_001E\",\n    \"B17001_002E\",\n    \"B17001_001E\",\n    \"B23025_005E\",\n    \"B23025_003E\",\n    \"B22003_002E\",\n    \"B22003_001E\",\n]\n\nall_vars = demographic_vars + economic_vars\n\nvar_names = {\n    \"B01003_001E\": \"total_population\",\n    \"B02001_003E\": \"black_alone\",\n    \"B03003_003E\": \"hispanic_latino\",\n    \"B19013_001E\": \"median_household_income\",\n    \"B17001_002E\": \"poverty_total\",\n    \"B17001_001E\": \"poverty_universe\",\n    \"B23025_005E\": \"unemployed\",\n    \"B23025_003E\": \"labor_force\",\n    \"B22003_002E\": \"snap_recipients\",\n    \"B22003_001E\": \"snap_universe\",\n}\n\ncensus_data = acs.query(\n    cols=all_vars,\n    geo_unit='tract',\n    geo_filter={\n        'state': '42',\n        'county': '101'\n    }\n)\n\nprint(f\"Downloaded {len(census_data)} census tracts\")\n\n\ncensus_data.rename(columns=var_names, inplace=True)\n\n\nfor col in var_names.values():\n    census_data[col] = pd.to_numeric(census_data[col], errors='coerce')\n\nprint(\"Calculating derived metrics...\")\n\ncensus_data[\"poverty_rate\"] = census_data[\"poverty_total\"] / census_data[\"poverty_universe\"] * 100\ncensus_data[\"unemployment_rate\"] = census_data[\"unemployed\"] / census_data[\"labor_force\"] * 100\ncensus_data[\"snap_rate\"] = census_data[\"snap_recipients\"] / census_data[\"snap_universe\"] * 100\ncensus_data[\"pct_black\"] = census_data[\"black_alone\"] / census_data[\"total_population\"] * 100\ncensus_data[\"pct_hispanic\"] = census_data[\"hispanic_latino\"] / census_data[\"total_population\"] * 100\n\nprint(\"Done.\")\n\n\nc:\\Users\\wensh\\miniconda3\\envs\\geospatial\\Lib\\site-packages\\fuzzywuzzy\\fuzz.py:11: UserWarning: Using slow pure-python SequenceMatcher. Install python-Levenshtein to remove this warning\n  warnings.warn('Using slow pure-python SequenceMatcher. Install python-Levenshtein to remove this warning')\n\n\nDownloaded 408 census tracts\nCalculating derived metrics...\nDone.\n\n\nMerge Census data with shapefile\n\n\nCode\nimport pygris \ntracts_gdf = pygris.tracts(\n    state='42',\n    county='101',\n    year=2023,\n    cache=True\n)\ntracts_gdf['tract'] = tracts_gdf['TRACTCE']\nmerged_gdf = tracts_gdf.merge(\n    census_data[[\"median_household_income\",'poverty_rate',\"unemployment_rate\",\"snap_rate\",\"pct_black\",\"pct_hispanic\",'state', 'county','tract']],\n    on='tract',\n    how='left'\n)\n\n\nDownload POI from OSM\n\n\nCode\nfoodstore = ox.features_from_place(\n    \"Philadelphia, PA\", tags={\"shop\": [\"food\", \"supermarket\", \"grocery\"]}\n)\n\nfoodstore_proj=foodstore.to_crs(epsg=2272)\n\n\nCreate a grid containing potential index\n\n\nCode\nimport numpy as np\ngrid_size = 50  # meters\nminx, miny, maxx, maxy = philly.total_bounds\nx_coords = np.arange(minx, maxx + grid_size, grid_size)\ny_coords = np.arange(miny, maxy + grid_size, grid_size)\n\n\n\n\nCode\n# START FROM SCRATCH with correct bounds\nphilly_proj = philly.to_crs(epsg=2272)\nminx, miny, maxx, maxy = philly_proj.total_bounds  # Get PROJECTED bounds\n\ngrid_size = 50  # meters (makes sense in EPSG:2272)\nx_coords = np.arange(minx, maxx + grid_size, grid_size)\ny_coords = np.arange(miny, maxy + grid_size, grid_size)\n\nprint(f\"Creating {len(x_coords)-1} x {len(y_coords)-1} grid = {(len(x_coords)-1)*(len(y_coords)-1)} cells\")\n\n# Create grid\nfrom shapely.geometry import box\npolygons = []\nfor x in x_coords[:-1]:\n    for y in y_coords[:-1]:\n        polygons.append(box(x, y, x + grid_size, y + grid_size))\n\ngrid = gpd.GeoDataFrame({'geometry': polygons}, crs='EPSG:2272')\nprint(f\"Grid created: {len(grid)} cells\")\n\n# Clip to Philadelphia boundary\ngrid = gpd.overlay(grid, philly_proj, how='intersection')\nprint(f\"After clipping to Philly: {len(grid)} cells\")\n\n# Continue with your network analysis...\ngrid['centroid'] = grid.centroid\ncentroids = grid.set_geometry('centroid')\n\n\nCreating 1791 x 2003 grid = 3587373 cells\nGrid created: 3587373 cells\nAfter clipping to Philly: 1593451 cells\n\n\nCalculate the nearest distance to snap retailer and foodstore using networking analysis\n\n\nCode\nG = ox.graph_from_place(\"Philadelphia, Pennsylvania, USA\", network_type='drive')\nG = ox.project_graph(G, to_crs=\"EPSG:2272\")\nfoodstore_proj['geometry'] = foodstore_proj.geometry.centroid\nfoodstore_proj_x = foodstore_proj.geometry.x.values\nfoodstore_proj_y = foodstore_proj.geometry.y.values\n\ncentroid_nodes = ox.distance.nearest_nodes(G,\n                                           X=centroids.geometry.x.values,\n                                           Y=centroids.geometry.y.values)\nfood_nodes = ox.distance.nearest_nodes(G,\n                                       X=foodstore_proj_x,\n                                       Y=foodstore_proj_y)\nsnap_nodes = ox.distance.nearest_nodes(G,\n                                       X=snapgdf.geometry.x.values,\n                                       Y=snapgdf.geometry.y.values)\n\n\n\n\nCode\nimport networkx as nx\n# Convert nearest nodes to Python lists\nfood_nodes = food_nodes.tolist()\nsnap_nodes = snap_nodes.tolist()\ncentroid_nodes = centroid_nodes.tolist()\n\nprint(\"Calculating distances to food stores...\")\nfood_dist_dict = nx.multi_source_dijkstra_path_length(G, food_nodes, weight='length')\n\nprint(\"Calculating distances to SNAP retailers...\")\nsnap_dist_dict = nx.multi_source_dijkstra_path_length(G, snap_nodes, weight='length')\n\n# Map distances back to centroids\ncentroids['dist_food_ft'] = [food_dist_dict.get(n, np.nan) for n in centroid_nodes]\ncentroids['dist_snap_ft'] = [snap_dist_dict.get(n, np.nan) for n in centroid_nodes]\n\n# Convert to meters if desired\ncentroids['dist_food_m'] = centroids['dist_food_ft'] * 0.3048\ncentroids['dist_snap_m'] = centroids['dist_snap_ft'] * 0.3048\n\ngrid['dist_food_ft'] = centroids['dist_food_ft'].values\ngrid['dist_snap_ft'] = centroids['dist_snap_ft'].values\ngrid['dist_food_m'] = centroids['dist_food_m'].values\ngrid['dist_snap_m'] = centroids['dist_snap_m'].values\n\n\nCalculating distances to food stores...\nCalculating distances to SNAP retailers...\n\n\nJoin the census data and food atlas with the grid\n\n\nCode\nmerged_gdf_proj = merged_gdf.to_crs(epsg=2272)\nfoodatlas_proj=foodatlas_sf.to_crs(epsg=2272)\n\ngrid['centroid'] = grid.centroid  \ngrid_centroids = grid.set_geometry('centroid')\n\ngrid_with_census = gpd.sjoin(grid_centroids, merged_gdf_proj, \n                              how='left', predicate='within',\n                              lsuffix='', rsuffix='_census')\n\n# Second spatial join with foodatlas - join to the result of first join\ngrid_with_both = gpd.sjoin(grid_with_census, foodatlas_proj, \n                            how='left', predicate='within',\n                            lsuffix='', rsuffix='_foodatlas')\n\n# Merge back to grid to restore polygon geometry\ngrid_final = grid.merge(\n    grid_with_both.drop(columns=['geometry']), \n    left_index=True, \n    right_index=True\n)\n\n\nThe food desert index is constructed as a weighted composite measure (0-100 scale) that captures the multidimensional nature of food access barriers in Philadelphia. The index allocates 30% weight to physical accessibility, measured through network distances to both conventional food stores and SNAP-accepting retailers, recognizing that proximity alone determines whether residents can reasonably reach food sources. Economic vulnerability receives the highest weight at 35%, incorporating poverty rates, SNAP participation, unemployment, and median household income, as financial constraints fundamentally limit food purchasing power regardless of store proximity. Transportation barriers comprise 25% of the index, emphasizing the critical role of vehicle access through the HUNVFlag indicator (identifying tracts with ≥100 households lacking vehicles and located &gt;0.5 miles from supermarkets) and the TractHUNV measure, since transportation constraints create compounding disadvantages when combined with distance. Finally, demographic factors account for 10% of the index through minority population percentages (Black and Hispanic), acknowledging research showing that predominantly minority neighborhoods often face additional systemic barriers to food access including store quality, pricing disparities, and historical disinvestment patterns. This weighting structure reflects the understanding that food deserts emerge from the intersection of spatial, economic, transportation, and social inequities, with economic and transportation barriers being particularly determinative of whether households can achieve adequate food security even when stores exist within reasonable distances.\n\n\nCode\n# Clean up the dataframe first\ngrid_clean = grid_final.copy()\n\n# Drop duplicate columns\ncols_to_drop = [\n    'objectid_y', 'Shape__Area_y', 'Shape__Length_y', \n    'centroid_y', 'dist_food_ft_y', 'dist_snap_ft_y', \n    'dist_food_m_y', 'dist_snap_m_y',\n    'index__census', 'index__foodatlas',\n    'STATEFP__foodatlas', 'COUNTYFP__foodatlas', 'TRACTCE__foodatlas',\n    'GEOID__foodatlas', 'NAME__foodatlas', 'NAMELSAD__foodatlas',\n    'MTFCC__foodatlas', 'FUNCSTAT__foodatlas', 'ALAND__foodatlas',\n    'AWATER__foodatlas', 'INTPTLAT__foodatlas', 'INTPTLON__foodatlas'\n]\n\ngrid_clean = grid_clean.drop(columns=[col for col in cols_to_drop if col in grid_clean.columns])\n\n# Rename columns\nrename_dict = {\n    'objectid_x': 'objectid',\n    'Shape__Area_x': 'Shape__Area',\n    'Shape__Length_x': 'Shape__Length',\n    'centroid_x': 'centroid',\n    'dist_food_ft_x': 'dist_food_ft',\n    'dist_snap_ft_x': 'dist_snap_ft',\n    'dist_food_m_x': 'dist_food_m',\n    'dist_snap_m_x': 'dist_snap_m',\n}\n\ngrid_clean = grid_clean.rename(columns={k: v for k, v in rename_dict.items() if k in grid_clean.columns})\n\nprint(f\"Cleaned grid: {len(grid_clean)} cells\")\n\n# ===== CREATE COMPREHENSIVE FOOD DESERT INDEX =====\n\n# Convert distances to miles\ngrid_clean['dist_food_mi'] = grid_clean['dist_food_m'] / 1609.34\ngrid_clean['dist_snap_mi'] = grid_clean['dist_snap_m'] / 1609.34\n\n# ===== 1. ACCESSIBILITY COMPONENT (0-1 scale) =====\n# Distance to regular food stores (higher = worse)\ngrid_clean['food_distance_score'] = np.minimum(grid_clean['dist_food_mi'] / 2, 1)  # Cap at 2 miles\n\n# Distance to SNAP retailers (higher = worse)\ngrid_clean['snap_distance_score'] = np.minimum(grid_clean['dist_snap_mi'] / 1.5, 1)  # Cap at 1.5 miles\n\n# Combined accessibility score (average of both distances)\ngrid_clean['accessibility_score'] = (\n    0.6 * grid_clean['food_distance_score'] + \n    0.4 * grid_clean['snap_distance_score']\n)\n\n# ===== 2. ECONOMIC VULNERABILITY COMPONENT (0-1 scale) =====\n# Poverty rate (already a percentage)\ngrid_clean['poverty_score'] = grid_clean['poverty_rate'] / 100\n\n# SNAP participation rate\ngrid_clean['snap_participation_score'] = grid_clean['snap_rate'] / 100\n\n# Unemployment rate\ngrid_clean['unemployment_score'] = grid_clean['unemployment_rate'] / 100\n\n# Median income (inverse normalized - lower income = higher vulnerability)\nincome_max = grid_clean['median_household_income'].quantile(0.95)\nincome_min = grid_clean['median_household_income'].quantile(0.05)\ngrid_clean['income_score'] = 1 - (\n    (grid_clean['median_household_income'] - income_min) / (income_max - income_min)\n).clip(0, 1)\n\n# Combined economic vulnerability (weighted average)\ngrid_clean['economic_vulnerability'] = (\n    0.30 * grid_clean['poverty_score'] +\n    0.25 * grid_clean['snap_participation_score'] +\n    0.25 * grid_clean['unemployment_score'] +\n    0.20 * grid_clean['income_score']\n)\n\n# ===== 3. TRANSPORTATION BARRIER COMPONENT (0-1 scale) =====\n# HUNVFlag: &gt;= 100 households without vehicle AND &gt; 0.5 mile from supermarket\ngrid_clean['hunv_flag_score'] = grid_clean['HUNVFlag'].fillna(0)\n\n# TractHUNV: Number/proportion of households with low vehicle access and low food access\n# Normalize this if it's a count, or use as-is if it's already a proportion\nif grid_clean['TractHUNV'].max() &gt; 1:\n    # If it's a count, normalize it\n    tracthunv_max = grid_clean['TractHUNV'].quantile(0.95)\n    grid_clean['tracthunv_score'] = (grid_clean['TractHUNV'] / tracthunv_max).clip(0, 1).fillna(0)\nelse:\n    # If it's already a proportion (0-1)\n    grid_clean['tracthunv_score'] = grid_clean['TractHUNV'].fillna(0)\n\n# Combined transportation barrier score\n# Give more weight to HUNVFlag as it's a clear binary indicator of severe access issues\ngrid_clean['transportation_barrier'] = (\n    0.60 * grid_clean['hunv_flag_score'] +\n    0.40 * grid_clean['tracthunv_score']\n)\n\n# ===== 4. DEMOGRAPHIC VULNERABILITY COMPONENT (0-1 scale) =====\n# Minority populations often face additional barriers to food access\ngrid_clean['black_score'] = grid_clean['pct_black'] / 100\ngrid_clean['hispanic_score'] = grid_clean['pct_hispanic'] / 100\n\n# Combined minority percentage (cap at 100%)\ngrid_clean['minority_score'] = np.minimum(\n    (grid_clean['pct_black'] + grid_clean['pct_hispanic']) / 100,\n    1.0\n)\n\n# ===== 5. COMPREHENSIVE FOOD DESERT INDEX (0-100 scale) =====\n# Weighted combination of all components\ngrid_clean['food_desert_index'] = (\n    0.25 * grid_clean['accessibility_score'] * 100 +          # 30% - Distance to food\n    0.25 * grid_clean['economic_vulnerability'] * 100 +       # 35% - Economic factors\n    0.25 * grid_clean['transportation_barrier'] * 100 +       # 25% - Vehicle access barriers\n    0.25 * grid_clean['minority_score'] * 100                 # 10% - Demographic factors\n)\n\n\n# ===== 6. SPECIAL FLAG: Critical Access Barrier =====\n# Areas with BOTH no vehicle access AND far from food\ngrid_clean['critical_barrier'] = (\n    (grid_clean['HUNVFlag'] == 1) & \n    (grid_clean['dist_food_mi'] &gt; 0.5)\n)\n\n# ===== 7. USDA DEFINITION (for comparison) =====\ngrid_clean['usda_low_income'] = (\n    (grid_clean['poverty_rate'] &gt; 20) | \n    (grid_clean['median_household_income'] &lt; grid_clean['median_household_income'].median() * 0.8)\n)\ngrid_clean['usda_low_access'] = grid_clean['dist_food_mi'] &gt; 1.0\ngrid_clean['usda_food_desert'] = grid_clean['usda_low_income'] & grid_clean['usda_low_access']\n\n\n# Final min-max normalization of the Food Desert Index\nfdi_min = grid_clean['food_desert_index'].min()\nfdi_max = grid_clean['food_desert_index'].max()\n\ngrid_clean['food_desert_index_scaled'] = (\n    (grid_clean['food_desert_index'] - fdi_min) /\n    (fdi_max - fdi_min)\n) * 100\n\n# Replace the original index with the scaled version\ngrid_clean['food_desert_index'] = grid_clean['food_desert_index_scaled']\ngrid_clean = grid_clean.drop(columns='food_desert_index_scaled')\n\ndef classify_food_desert(value):\n    if pd.isna(value):\n        return \"No Data\"\n    elif value &gt;= 85:\n        return \"Severe Food Desert\"\n    elif value &gt;= 70:\n        return \"High Risk\"\n    elif value &gt;= 40:\n        return \"Moderate Risk\"\n    elif value &gt;= 15:\n        return \"Low Risk\"\n    else:\n        return \"Good Access\"\n\ngrid_clean['food_desert_category'] = grid_clean['food_desert_index'].apply(classify_food_desert)\ngrid_clean\n\n\nCleaned grid: 1593451 cells\n\n\n\n\n\n\n\n\n\nobjectid\nShape__Area\nShape__Length\ngeometry\ncentroid\ndist_food_ft\ndist_snap_ft\ndist_food_m\ndist_snap_m\nSTATEFP_\n...\ntransportation_barrier\nblack_score\nhispanic_score\nminority_score\nfood_desert_index\nfood_desert_category\ncritical_barrier\nusda_low_income\nusda_low_access\nusda_food_desert\n\n\n\n\n0\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2660623.906 243366.12, 2660623.906 2...\nPOINT (2660619.158 243356.849)\n798.802406\n0.000000\n243.474973\n0.000000\n42\n...\n0.000000\nNaN\nNaN\nNaN\nNaN\nNo Data\nFalse\nTrue\nFalse\nFalse\n\n\n1\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2660623.906 243416.12, 2660623.906 2...\nPOINT (2660608.434 243395.379)\n798.802406\n0.000000\n243.474973\n0.000000\n42\n...\n0.000000\nNaN\nNaN\nNaN\nNaN\nNo Data\nFalse\nTrue\nFalse\nFalse\n\n\n2\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2660623.906 243416.12, 2660580.849 2...\nPOINT (2660604.671 243432.922)\n798.802406\n0.000000\n243.474973\n0.000000\nNaN\n...\n0.000000\nNaN\nNaN\nNaN\nNaN\nNo Data\nFalse\nFalse\nFalse\nFalse\n\n\n3\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2660673.906 243266.12, 2660673.906 2...\nPOINT (2660665.57 243253.167)\n798.802406\n0.000000\n243.474973\n0.000000\n42\n...\n0.000000\nNaN\nNaN\nNaN\nNaN\nNo Data\nFalse\nTrue\nFalse\nFalse\n\n\n4\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2660673.906 243316.12, 2660673.906 2...\nPOINT (2660657.068 243293.544)\n798.802406\n0.000000\n243.474973\n0.000000\n42\n...\n0.000000\nNaN\nNaN\nNaN\nNaN\nNo Data\nFalse\nTrue\nFalse\nFalse\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1593446\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2750073.906 289766.12, 2750088.337 2...\nPOINT (2750078.772 289749.798)\n1640.457883\n33005.451274\n500.011563\n10060.061548\n42\n...\n0.032409\n0.091346\n0.120726\n0.212073\n18.650195\nLow Risk\nFalse\nFalse\nFalse\nFalse\n\n\n1593447\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2750073.906 289766.12, 2750073.906 2...\nPOINT (2750085.098 289793.884)\n1640.457883\n33005.451274\n500.011563\n10060.061548\n42\n...\n0.032409\n0.091346\n0.120726\n0.212073\n18.650195\nLow Risk\nFalse\nFalse\nFalse\nFalse\n\n\n1593448\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2750073.906 289816.12, 2750073.906 2...\nPOINT (2750091.292 289842.16)\n1640.457883\n33005.451274\n500.011563\n10060.061548\n42\n...\n0.032409\n0.091346\n0.120726\n0.212073\n18.650195\nLow Risk\nFalse\nFalse\nFalse\nFalse\n\n\n1593449\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2750073.906 289866.12, 2750073.906 2...\nPOINT (2750088.659 289887.944)\n1640.457883\n33005.451274\n500.011563\n10060.061548\n42\n...\n0.032409\n0.091346\n0.120726\n0.212073\n18.650195\nLow Risk\nFalse\nFalse\nFalse\nFalse\n\n\n1593450\n1\n6.295179e+08\n157172.791716\nPOLYGON ((2750073.906 289916.12, 2750073.906 2...\nPOINT (2750079.477 289924.795)\n1640.457883\n33005.451274\n500.011563\n10060.061548\n42\n...\n0.032409\n0.091346\n0.120726\n0.212073\n18.650195\nLow Risk\nFalse\nFalse\nFalse\nFalse\n\n\n\n\n1593451 rows × 57 columns\n\n\n\nDistribution of the Index\n\n\nCode\nimport matplotlib.pyplot as plt\n\n# Basic summary of the index and categories\nprint(\"Food Desert Index summary:\")\nprint(grid_clean[\"food_desert_index\"].describe())\n\nprint(\"\\nCategory counts:\")\nprint(grid_clean[\"food_desert_category\"].value_counts())\n\n# Histogram of the index\nfig, ax = plt.subplots(figsize=(8, 4))\ngrid_clean[\"food_desert_index\"].hist(bins=30, ax=ax)\nax.set_xlabel(\"Food Desert Index (0–100)\")\nax.set_ylabel(\"Number of grid cells\")\nax.set_title(\"Distribution of Food Desert Index – Philadelphia\")\nplt.tight_layout()\nplt.show()\n\n\nFood Desert Index summary:\ncount    1.291573e+06\nmean     3.990407e+01\nstd      2.441784e+01\nmin      0.000000e+00\n25%      1.679571e+01\n50%      3.740639e+01\n75%      5.812791e+01\nmax      1.000000e+02\nName: food_desert_index, dtype: float64\n\nCategory counts:\nfood_desert_category\nLow Risk              444013\nModerate Risk         421191\nNo Data               301878\nGood Access           247312\nHigh Risk             110137\nSevere Food Desert     68920\nName: count, dtype: int64\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport matplotlib.pyplot as plt\nfrom matplotlib.colors import ListedColormap\n\n# Define a color for each category — in order\ncategory_colors = {\n    \"Severe Food Desert\": \"#800026\",   # dark red\n    \"High Risk\": \"#BD0026\",            # red\n    \"Moderate Risk\": \"#E31A1C\",        # orange-red\n    \"Low Risk\": \"#FC4E2A\",             # orange\n    \"Good Access\": \"#31a354\",          # green\n    \"No Data\": \"#bdbdbd\"               # gray\n}\n\n# Create a column with colors for plotting\ngrid_clean[\"category_color\"] = grid_clean[\"food_desert_category\"].map(category_colors)\n\nfig, ax = plt.subplots(1, 1, figsize=(10, 10))\n\n# Outline of the city\nphilly_proj = philly.to_crs(grid_clean.crs)\nphilly_proj.boundary.plot(ax=ax, linewidth=1, color=\"black\")\n\n# Plot grid cells using custom color column\ngrid_clean.plot(\n    color=grid_clean[\"category_color\"],\n    ax=ax,\n    linewidth=0\n)\n\n# Create custom legend\nhandles = [\n    plt.Line2D(\n        [0], [0],\n        marker='s', color=category_colors[c], label=c,\n        markersize=12, linestyle='None'\n    )\n    for c in category_colors\n]\n\nax.legend(\n    handles=handles,\n    title=\"Food Desert Category\",\n    loc=\"lower left\",\n    frameon=True\n)\n\nax.set_title(\"Food Desert Categories – Philadelphia Grid\", fontsize=14)\nax.set_axis_off()\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Filter high-risk + severe cells\nhigh_risk = grid_clean[grid_clean[\"food_desert_category\"].isin([\"High Risk\", \"Severe Food Desert\"])]\n\n# Make sure SNAP and food stores are in same CRS\nsnap_proj = snapgdf.to_crs(grid_clean.crs)\nfoodstore_proj = foodstore_proj.to_crs(grid_clean.crs)\n\nfig, ax = plt.subplots(1, 1, figsize=(10, 10))\n\n# Base: all grid cells (light)\ngrid_clean.plot(ax=ax, color=\"#eeeeee\", linewidth=0, alpha=0.6)\n\n# High-risk cells\nhigh_risk.plot(\n    ax=ax,\n    column=\"food_desert_category\",\n    categorical=True,\n    legend=True,\n    linewidth=0\n)\n\n# Food stores and SNAP retailers\nfoodstore_proj.plot(ax=ax, markersize=5, alpha=0.7)\nsnap_proj.plot(ax=ax, markersize=5, alpha=0.7)\n\nax.set_title(\"High-Risk Food Desert Areas with Food Stores & SNAP Retailers\", fontsize=14)\nax.set_axis_off()\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport geopandas as gpd\n\n# 1. Start from the cleaned grid and ensure it has an active geometry\n#    (the polygon grid cells)\ngrid_centroids = grid_clean.copy()\ngrid_centroids = grid_centroids.set_geometry(\"geometry\")\n\n# 2. Make sure grid and tracts are in the same CRS\n#    merged_gdf already has tract geometries\ngrid_centroids = grid_centroids.to_crs(merged_gdf.crs)\n\n# 3. Replace polygon geometry with centroids for the spatial join\n#    (geometry column stays called \"geometry\", but now it's points)\ngrid_centroids[\"geometry\"] = grid_centroids.geometry.centroid\n\n# 4. Spatial join: which tract each grid cell centroid falls in\njoined = gpd.sjoin(\n    grid_centroids[[\"food_desert_index\", \"geometry\"]],\n    merged_gdf[[\"tract\", \"geometry\"]],\n    how=\"left\",\n    predicate=\"within\"\n)\n\n# 5. Average food desert index per tract\ntract_index = (\n    joined\n    .groupby(\"tract\")[\"food_desert_index\"]\n    .mean()\n    .reset_index()\n)\ntract_index.rename(\n    columns={\"food_desert_index\": \"food_desert_index_mean\"},\n    inplace=True\n)\n\n# 6. Merge back into tract polygons\ntracts_with_index = merged_gdf.merge(\n    tract_index,\n    on=\"tract\",\n    how=\"left\"\n)\n\nprint(\"Finished aggregating. Columns now include 'food_desert_index_mean'.\")\n\n\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\812805674.py:14: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n\n  grid_centroids[\"geometry\"] = grid_centroids.geometry.centroid\n\n\nFinished aggregating. Columns now include 'food_desert_index_mean'.\n\n\n\n\nCode\nfig, ax = plt.subplots(1, 1, figsize=(10, 10))\n\ntracts_with_index.plot(\n    column=\"food_desert_index_mean\",\n    cmap=\"inferno\",\n    scheme=\"quantiles\",\n    k=5,\n    legend=True,\n    ax=ax\n)\n\nax.set_title(\"Average Food Desert Index by Census Tract – Philadelphia\")\nax.set_axis_off()\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport folium\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\nfrom branca.colormap import LinearColormap\nfrom IPython.display import HTML\n\n# Convert to WGS84 + keep geometry\ngdf = tracts_with_index.set_geometry(\"geometry\").to_crs(epsg=4326)\n\n# Get map center\ncenter_y = gdf.geometry.centroid.y.mean()\ncenter_x = gdf.geometry.centroid.x.mean()\n\nm = folium.Map(location=[center_y, center_x], zoom_start=11)\n\n# === Build Inferno colormap from matplotlib ===\nvmin = gdf[\"food_desert_index_mean\"].min()\nvmax = gdf[\"food_desert_index_mean\"].max()\n\n# Use matplotlib inferno\ninferno = cm.get_cmap(\"inferno\", 256)\n\n# Convert to HEX colors for folium\ncolors_list = [colors.rgb2hex(inferno(i)) for i in range(inferno.N)]\n\n# Create folium colormap\ncolormap = LinearColormap(\n    colors_list,\n    vmin=vmin,\n    vmax=vmax\n)\ncolormap.caption = \"Average Food Desert Index (0–100)\"\ncolormap.add_to(m)\n\n# === style + tooltip ===\ndef style_function(feature):\n    val = feature[\"properties\"].get(\"food_desert_index_mean\")\n    return {\n        \"fillColor\": colormap(val) if val is not None else \"#cccccc\",\n        \"color\": \"black\",\n        \"weight\": 0.2,\n        \"fillOpacity\": 0.7,\n    }\n\ntooltip = folium.GeoJsonTooltip(\n    fields=[\n        \"tract\",\n        \"food_desert_index_mean\",\n        \"median_household_income\",\n        \"poverty_rate\",\n        \"unemployment_rate\",\n        \"snap_rate\",\n    ],\n    aliases=[\n        \"Tract:\",\n        \"Food Desert Index (mean):\",\n        \"Median HH Income:\",\n        \"Poverty Rate (%):\",\n        \"Unemployment Rate (%):\",\n        \"SNAP Rate (%):\",\n    ],\n    sticky=True,\n)\n\nfolium.GeoJson(\n    gdf,\n    style_function=style_function,\n    tooltip=tooltip,\n).add_to(m)\n\nHTML(m._repr_html_())\n\n\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\3415471111.py:11: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n\n  center_y = gdf.geometry.centroid.y.mean()\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\3415471111.py:12: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n\n  center_x = gdf.geometry.centroid.x.mean()\nC:\\Users\\wensh\\AppData\\Local\\Temp\\ipykernel_5128\\3415471111.py:21: MatplotlibDeprecationWarning: The get_cmap function was deprecated in Matplotlib 3.7 and will be removed in 3.11. Use ``matplotlib.colormaps[name]`` or ``matplotlib.colormaps.get_cmap()`` or ``pyplot.get_cmap()`` instead.\n  inferno = cm.get_cmap(\"inferno\", 256)\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\nCode\nimport os\n\n# Create outputs folder if it doesn't exist\nos.makedirs('outputs', exist_ok=True)\n\n# 1. Aggregate the grid data to the Census Tract level\ntract_summary = grid_clean.groupby('tract').agg({\n    'food_desert_index': 'mean',\n    'accessibility_score': 'mean',\n    'economic_vulnerability': 'mean',\n    'transportation_barrier': 'mean',\n    'minority_score': 'mean',\n    'poverty_rate': 'mean',\n    'pct_black': 'mean',\n    # For USDA definition, if &gt;30% of grid cells in a tract are deserts, classify the tract as one\n    'usda_food_desert': lambda x: 1 if (x.sum() / len(x)) &gt; 0.3 else 0\n}).reset_index()\n\n# 2. Merge with the tract geometry\n# We reuse 'tracts_gdf' from your earlier cell (Cell 6)\ntracts_website = tracts_gdf[['tract', 'geometry']].merge(tract_summary, on='tract')\n\n# 3. Save to GeoJSON\ntracts_website.to_file(\"outputs/tract_summary.geojson\", driver='GeoJSON')\n\nprint(\"Data saved to outputs/tract_summary.geojson\")\n\n\nData saved to outputs/tract_summary.geojson"
  },
  {
    "objectID": "final_project/data.html",
    "href": "final_project/data.html",
    "title": "Data Sources",
    "section": "",
    "text": "This analysis integrates data from four primary sources to construct a multidimensional view of food access.\n\n1. USDA Food Access Research Atlas\n\nDescription: Provides tract-level data on food access indicators, including low-income and low-access status.\nUse: Used as a baseline for comparison against our custom index.\nSource: USDA ERS\n\n\n\n2. US Census Bureau (ACS 2023 5-Year Estimates)\n\nDescription: Demographic and economic data at the Census Tract level.\nKey Variables:\n\nPoverty Rate: Percentage of families below the poverty line.\nMedian Household Income: Measure of neighborhood wealth.\nVehicle Availability: Households without access to a vehicle (HUNV).\nDemographics: Percentage of Black and Hispanic residents.\nSNAP Participation: Households receiving food stamps.\n\n\n\n\n3. SNAP Retailer Locator\n\nDescription: A historical dataset of authorized SNAP retailers.\nFiltering: Filtered to include only active retailers in Philadelphia County as of 2024.\nUse: Identifies locations where food assistance benefits can be used, which is important for vulnerable population.\n\n\n\n4. OpenStreetMap (OSM) Points of Interest\n\nDescription: Geospatial data on points of interest.\nFiltering: Extracted nodes/ways tagged as supermarket, grocery, or convenience.\nUse: Identifies locations where fresh food can be accessed.\n\n\n\n5. OpenStreetMap (OSM) Roads\n\nDescription: Geospatial data on roads\nFiltering: Extracted driveways in Philadelphia\nUse: Calculated precise walking and driving network distances from every 50m grid cell to the nearest food source."
  },
  {
    "objectID": "final_project/methodology.html",
    "href": "final_project/methodology.html",
    "title": "Methodology",
    "section": "",
    "text": "To measure food insecurity accurately, we moved away from census tracts as the smallest unit and utilized a 50-meter resolution grid analysis.\n\n1. Spatial Analysis\nWe created a 50m x 50m grid covering the entire city of Philadelphia (approx. 1.5 million cells). For every single cell, we calculated: * Network Distance: The walking/driving distance to the nearest supermarket. * SNAP Distance: The network distance to the nearest SNAP-accepting retailer.\n\n\n2. The Composite Index\nWe developed a composite Food Desert Index (0-100) where higher scores indicate higher risk. The index is a weighted sum of four components:\n\\[\n\\text{Index} = 0.25(\\text{Access}) + 0.25(\\text{Economic}) + 0.25(\\text{Transport}) + 0.25(\\text{Demographic})\n\\]\n\n\n\n\n\n\n\n\nComponent\nWeight\nIndicators\n\n\n\n\nPhysical Accessibility\n25%\nDistance to food stores, Distance to SNAP retailers\n\n\nEconomic Vulnerability\n25%\nPoverty rate, Unemployment rate, Median Household Income, SNAP usage\n\n\nTransportation Barriers\n25%\nHouseholds without vehicles, Distance combined with lack of car\n\n\nDemographic Disparities\n25%\n% Minority population (Black + Hispanic)\n\n\n\nWe consider each component equally important for identifying food desert."
  },
  {
    "objectID": "final_project.html",
    "href": "final_project.html",
    "title": "Philadelphia Food Desert Analysis",
    "section": "",
    "text": "Introduction\nAccess to nutritious and affordable food is a fundamental determinant of public health. This project analyzes the food security landscape in Philadelphia, moving beyond simple proximity measures to a comprehensive Food Desert Index.\nUnlike traditional binary definitions, this analysis utilizes a 50m resolution grid to calculate a composite risk score (0-100) that integrates:\nPhysical Accessibility (30%): Network distance to nearest supermarket and SNAP retailer.\nEconomic Vulnerability (35%): Poverty rate, SNAP participation, Unemployment, and Income.\nTransportation Barriers (25%): Households without vehicles combined with distance to food.\nDemographic Disparities (10%): Concentration of minority populations, reflecting systemic barriers.\nMethodology\nWe calculated a weighted composite index based on the following formula:\n\\[\\text{Index} = 0.30(\\text{Access}) + 0.35(\\text{Economic}) + 0.25(\\text{Transport}) + 0.10(\\text{Demographic})\\]\nData sources include the USDA Food Access Research Atlas, Census ACS (2023), SNAP Retailer Locator, and OpenStreetMap.\nResults Dashboard\nFood Desert Index Map\nThe interactive map below shows the Food Desert Index aggregated to the Census Tract level.\nDark Red indicates High Risk (poor access + high vulnerability).\nLight Yellow indicates Good Access.\n\n\n\n\n                            \n                                            \n\n\nFigure 1\n\n\n\n\nComparison: Index vs. USDA Definition\n\n\n\n\n\n\nConclusion\nThe analysis reveals that food insecurity in Philadelphia is not merely a geometric problem of distance to stores, but a complex intersection of economic and transportation barriers.\nHigh Risk Concentrations: The most severe food deserts are concentrated in North and West Philadelphia, where high poverty rates compound the effects of physical distance.\nTransportation is Key: The scatter plot demonstrates that areas with high Transportation Barrier scores (low vehicle ownership) consistently show higher overall risk indices.\nUSDA vs. Comprehensive Index: The comprehensive index identifies several “Moderate Risk” transition zones that the binary USDA definition misses. These areas (yellow/orange in the main map) represent communities that are technically “accessible” but practically “vulnerable” due to economic factors.\nReferences\nUSDA Food Access Research Atlas\nPhiladelphia Open Data (City Limits)\nCensus Bureau ACS 5-Year Estimates (2023)\nOpenStreetMap (Retailer Locations)"
  }
]